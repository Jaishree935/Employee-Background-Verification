<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CareerConnect | Employee Background Check</title>
  <link rel="stylesheet" href="user.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Orbitron:wght@600&display=swap" rel="stylesheet">
</head>
<body>

  <!-- HEADER -->
  <header>
    <div class="logo-container">
      <img src="/images/logo.jpg" alt="CareerConnect Logo" class="header-logo">
      <div class="logo-text">CareerConnect</div>
    </div>
    <nav>
      <a href="#home" onclick="showSection('home')">Home</a>
      <a href="#about" onclick="showSection('about')">About Us</a>
      <a href="#contact" onclick="showSection('contact')">Contact</a>
  
    </nav>
   <div class="user-icon-login">
  <i class="fa-solid fa-user-circle" id="userIcon"></i>
  <button class="login-btn" id="loginBtn" onclick="goToLogin()">Login</button>
</div>

<!-- User info popup -->
<div id="userInfoPopup" class="popup">
  <p><b>Username:</b> <span id="popupUsername"></span></p>
  <p><b>Email:</b> <span id="popupEmail"></span></p>
  <button onclick="closePopup()">Close</button>
</div>


  </header>

  <!-- JOB SECTION -->
  <section class="job-section" id="home">
    <h2 class="job-heading">Available Job Opportunities</h2>
     <div class="job-actions">
    <input type="text" id="searchBox" placeholder="Search by company name...">
    <button class="status-btn" onclick="checkLoginAndRedirect()">Application Status</button>
  </div>
    <div class="job-container">
      <div class="job-card" data-company="Microsoft">
        <img src="https://upload.wikimedia.org/wikipedia/commons/4/44/Microsoft_logo.svg" alt="Microsoft Logo">
        <h3>Microsoft</h3>
        <p><b>Role:</b> Software Engineer Intern</p>
        <p><b>Qualification:</b> B.E/B.Tech (CSE/IT)</p>
        <p><b>Experience:</b> 0 - 1 year</p>
        <button class="apply-btn">Apply Now</button>
      </div>

      <div class="job-card" data-company="Apple">
        <img src="/images/apple.png" alt="Apple Logo">
        <h3>Apple</h3>
        <p><b>Role:</b> UI/UX Designer</p>
        <p><b>Qualification:</b> B.Des / Any UG</p>
        <p><b>Experience:</b> 1 - 3 years</p>
        <button class="apply-btn">Apply Now</button>
      </div>

      <div class="job-card" data-company="Google">
        <img src="/images/google.png" alt="Google Logo">
        <h3>Google</h3>
        <p><b>Role:</b> Data Analyst</p>
        <p><b>Qualification:</b> B.Sc / B.E / MCA</p>
        <p><b>Experience:</b> 0 - 2 years</p>
        <button class="apply-btn">Apply Now</button>
      </div>

      <div class="job-card" data-company="Infosys">
        <img src="/images/infosys.png" alt="Infosys Logo">
        <h3>Infosys</h3>
        <p><b>Role:</b> Java Developer</p>
        <p><b>Qualification:</b> B.E / B.Tech</p>
        <p><b>Experience:</b> 1 - 2 years</p>
        <button class="apply-btn">Apply Now</button>
      </div>

      <!-- New extra 4 companies -->
      <div class="job-card" data-company="Adobe">
        <img src="/images/adobe.png" alt="Adobe Logo">
        <h3>Adobe</h3>
        <p><b>Role:</b> UI Engineer</p>
        <p><b>Qualification:</b> B.E / B.Tech</p>
        <p><b>Experience:</b> 1 - 3 years</p>
        <button class="apply-btn">Apply Now</button>
      </div>

      <div class="job-card" data-company="Spotify">
        <img src="/images/spotify.png" alt="Spotify Logo">
        <h3>Spotify</h3>
        <p><b>Role:</b> Frontend Developer</p>
        <p><b>Qualification:</b> B.E / M.Sc</p>
        <p><b>Experience:</b> 2 - 4 years</p>
        <button class="apply-btn">Apply Now</button>
      </div>

      <div class="job-card" data-company="Salesforce">
        <img src="/images/salesforce.png" alt="Salesforce Logo">
        <h3>Salesforce</h3>
        <p><b>Role:</b> Cloud Developer</p>
        <p><b>Qualification:</b> B.E / MCA</p>
        <p><b>Experience:</b> 1 - 3 years</p>
        <button class="apply-btn">Apply Now</button>
      </div>

      <div class="job-card" data-company="Cisco">
        <img src="/images/cisco.png" alt="Cisco Logo">
        <h3>Cisco</h3>
        <p><b>Role:</b> Network Engineer</p>
        <p><b>Qualification:</b> B.E / B.Tech (IT)</p>
        <p><b>Experience:</b> 0 - 2 years</p>
        <button class="apply-btn">Apply Now</button>
      </div>      
      <!-- Card 5 -->
      <div class="job-card" data-company="TCS">
        <img src="/images/tcs.jpg" alt="TCS Logo">
        <h3>TCS</h3>
        <p><b>Role:</b> Associate Software Engineer</p>
        <p><b>Qualification:</b> B.E / M.E / MCA</p>
        <p><b>Experience:</b> 0 - 2 years</p>
        <button class="apply-btn">Apply Now</button>
      </div>

      <!-- Card 6 -->
      <div class="job-card" data-company="Amazon">
        <img src="https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg" alt="Amazon Logo">
        <h3>Amazon</h3>
        <p><b>Role:</b> Cloud Support Associate</p>
        <p><b>Qualification:</b> B.E / B.Tech / MCA</p>
        <p><b>Experience:</b> 1 - 3 years</p>
        <button class="apply-btn">Apply Now</button>
      </div>

      <!-- Card 7 -->
      <div class="job-card" data-company="Wipro">
        <img src="/images/wipro.png" alt="Wipro Logo">
        <h3>Wipro</h3>
        <p><b>Role:</b> Software Developer</p>
        <p><b>Qualification:</b> B.E / B.Tech</p>
        <p><b>Experience:</b> 0 - 1 year</p>
        <button class="apply-btn">Apply Now</button>
      </div>

      <!-- Card 8 -->
      <div class="job-card" data-company="IBM">
        <img src="https://upload.wikimedia.org/wikipedia/commons/5/51/IBM_logo.svg" alt="IBM Logo">
        <h3>IBM</h3>
        <p><b>Role:</b> Data Engineer</p>
        <p><b>Qualification:</b> B.E / M.Tech / MCA</p>
        <p><b>Experience:</b> 1 - 3 years</p>
        <button class="apply-btn">Apply Now</button>
      </div>

      <!-- New Card 9 -->
      <div class="job-card" data-company="Netflix">
        <img src="/images/netflix.png" alt="Netflix Logo">
        <h3>Netflix</h3>
        <p><b>Role:</b> Frontend Developer</p>
        <p><b>Qualification:</b> B.E / B.Tech / MCA</p>
        <p><b>Experience:</b> 2 - 4 years</p>
        <button class="apply-btn">Apply Now</button>
      </div>

      <!-- New Card 10 -->
      <div class="job-card" data-company="Zoho">
        <img src="/images/zoho.png" alt="Zoho Logo">
        <h3>Zoho</h3>
        <p><b>Role:</b> Full Stack Developer</p>
        <p><b>Qualification:</b> B.E / M.Sc / MCA</p>
        <p><b>Experience:</b> 0 - 2 years</p>
        <button class="apply-btn">Apply Now</button>
      </div>

      <!-- New Card 11 -->
      <div class="job-card" data-company="Deloitte">
        <img src="/images/deloitte.png" alt="Deloitte Logo">
        <h3>Deloitte</h3>
        <p><b>Role:</b> Data Consultant</p>
        <p><b>Qualification:</b> MBA / B.Tech</p>
        <p><b>Experience:</b> 1 - 3 years</p>
        <button class="apply-btn">Apply Now</button>
      </div>

      <!-- New Card 12 -->
      <div class="job-card" data-company="Accenture">
        <img src="/images/accenture.png" alt="Accenture Logo">
        <h3>Accenture</h3>
        <p><b>Role:</b> Software Tester</p>
        <p><b>Qualification:</b> B.E / B.Tech</p>
        <p><b>Experience:</b> 0 - 2 years</p>
        <button class="apply-btn">Apply Now</button>
      </div>
    </div>
  </section>

  <!-- ABOUT SECTION -->
  <section class="about-section" id="about">
    <div class="about-container">
      <h2>About CareerConnect</h2>
      <p>CareerConnect is a modern platform built to simplify the hiring process by connecting talented individuals with top companies. 
      Our system ensures transparency, efficiency, and security through integrated background verification. 
      We aim to bridge the gap between recruiters and job seekers by making the job application process smooth, fast, and reliable.</p>
      <button class="close-btn" onclick="showSection('home')">Close</button>
    </div>
  </section>

  <!--  CONTACT SECTION -->
  <section class="contact-section" id="contact">
    <div class="contact-container">
      <h2>Contact Us / Feedback</h2>
      <p>We value your feedback! Please share your thoughts below:</p>
      <form class="feedback-form" onsubmit="return showThanks(event)">
        <input type="text" placeholder="Your Name" required>
        <input type="email" placeholder="Your Email" required>
        <textarea placeholder="Your Message..." required></textarea>
        <div class="btn-container">
          <button type="submit" class="submit-btn">Submit</button>
          <button type="button" class="close-btn" onclick="showSection('home')">Close</button>
        </div>
      </form>
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    <div class="footer-container">
      <div class="footer-section">
        <h4>Quick Links</h4>
        <a href="#home" onclick="showSection('home')">Home</a><br>
        <a href="#about" onclick="showSection('about')">About Us</a><br>
        <a href="#contact" onclick="showSection('contact')">Contact</a>
      </div>

      <div class="footer-section">
        <h4>Contact</h4>
        <p>Email: info@backgroundcheck.com</p>
        <p>Phone: +91 98765 43210</p>
      </div>

      <div class="footer-section social-section">
        <h4>Follow Us</h4>
        <div class="social-icons left">
          <a href="#"><img src="/images/facebook.jpg" alt="Facebook"></a>
          <a href="#"><img src="/images/linkedlin.jpg" alt="LinkedIn"></a>
          <a href="#"><img src="/images/twitter.png" alt="Twitter"></a>
        </div>
      </div>
    </div>
    <div class="footer-line"></div>
    <p class="copy">© 2025 Employee Background Check Application. All Rights Reserved.</p>
  </footer>

  <!-- SCRIPT -->
  <script>
    function showSection(section) {
      document.querySelectorAll("section").forEach(s => s.style.display = "none");
      document.getElementById(section).style.display = "block";
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function showThanks(e) {
      e.preventDefault();
      alert("Thank you for your feedback!");
      showSection('home');
    }

    // Default view
    showSection('home');
   // 🔒 Check if logged in
function isUserLoggedIn() {
  return localStorage.getItem("currentUser") !== null;
}

// Search company filter
document.getElementById("searchBox").addEventListener("keyup", function () {
  const query = this.value.toLowerCase();
  const currentUser = localStorage.getItem("currentUser");

  if (!currentUser) {
    alert("Please login to use search!");
    window.location.href = "user_login.html";
    return;
  }

  document.querySelectorAll(".job-card").forEach(card => {
    const company = card.getAttribute("data-company").toLowerCase();
    card.style.display = company.includes(query) ? "block" : "none";
  });
});

// Redirect to dashboard (only if logged in)
function checkLoginAndRedirect() {
  if (!isUserLoggedIn()) {
    alert("Please login to view application status!");
    window.location.href = "user_login.html";
  } else {
    window.location.href = "user_dashboard.html";
  }
}

// Modify Apply Buttons to require login
document.querySelectorAll(".apply-btn").forEach(button => {
  button.addEventListener("click", function() {
    const currentUser = localStorage.getItem("currentUser");

    if (!currentUser) {
      alert("Please log in to apply for this job.");
      window.location.href = "user_login.html";
      return;
    }

    const company = this.parentElement.getAttribute("data-company");
    const role = this.parentElement.querySelector("p b").nextSibling.textContent.trim();

    let applications = JSON.parse(localStorage.getItem("applications")) || [];

    // Check duplicate
    if (applications.find(app => app.username === currentUser && app.company === company)) {
      alert(`You have already applied for a role at ${company}!`);
      return;
    }

    applications.push({
      username: currentUser,
      company,
      status: "Pending Verification"
    });

    localStorage.setItem("applications", JSON.stringify(applications));
    alert(`Application submitted for ${company}!`);
  });
});
function goToLogin() {
  window.location.href = "user_login.html";
}
 // Handle user icon click
document.getElementById("userIcon").addEventListener("click", async () => {
  const currentUser = localStorage.getItem("currentUser");

  if (!currentUser) {
    alert("Please login to view your profile details.");
    window.location.href = "user_login.html";
    return;
  }

  try {
    const res = await fetch(`http://localhost:5000/user/${currentUser}`);
    const data = await res.json();

    if (data.success) {
      document.getElementById("popupUsername").innerText = data.username;
      document.getElementById("popupEmail").innerText = data.email;
      document.getElementById("userInfoPopup").style.display = "block";
    } else {
      alert("Unable to fetch user details!");
    }
  } catch (err) {
    console.error("Error fetching user info:", err);
    alert("Server error! Please try again.");
  }
});

// Close popup
function closePopup() {
  document.getElementById("userInfoPopup").style.display = "none";
}

// Change login button to logout if user logged in
window.onload = function() {
  const currentUser = localStorage.getItem("currentUser");
  const loginBtn = document.getElementById("loginBtn");
  if (currentUser) {
    loginBtn.textContent = "Logout";
    loginBtn.onclick = function() {
      localStorage.removeItem("currentUser");
      alert("Logged out successfully!");
      window.location.href = "user_login.html";
    };
  }
};

  </script>

</body>
</html>
